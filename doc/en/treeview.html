<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>qcjs help</title>

    <script src="../link.js"></script>

    <style>

    </style>

</head>
<body>
<div class="left">
    <div class="menu"></div>
</div>
<div class="right">
    <p></p>
    <h2>treeview</h2>
    <p>
        Tree view。
    </p>

    <p></p>
    <h4>treeview attributes</h4>
    <dl>
        <dt>qc-get</dt>
        <dd>
            A link or method to get data. <br>
            parameter:
            <div>
                <ul>
                    <li>re: Object.</li>
                    <li>callee: Callback function.</li>
                </ul>
            </div>
        </dd>

        <dt>qc-mode</dt>
        <dd>
            manual: Load the data manually. <br>
            auto: The data is loaded automatically.
        </dd>

        <dt>qc-content</dt>
        <dd>
            The data shows the template.
        </dd>

        <dt>qc-key</dt>
        <dd>
            Unique field.
        </dd>

        <dt>qc-pKey</dt>
        <dd>
            Gets the key fields for data association.
        </dd>

        <dt>qc-value</dt>
        <dd>
            qc-pKey value.
        </dd>

        <dt>qc-type</dt>
        <dd>
            Inside qc-content.
            <div>
                <ul>
                    <li>collapse：Fold the button</li>
                    <li>expand：Expand the button</li>
                    <li>addNew：New button</li>
                </ul>
            </div>
        </dd>

        <dt>qc-levels</dt>
        <dd>
            Maximum number of lower level.
        </dd>
    </dl>
    <p></p>

    <p></p>
    <h4 class="imp">Example</h4>
    <pre class="code">
        // html body
        No addNew button:
        &lt;div qc-control="treeview" class="qc-treeview" qc-mode="auto" qc-get="get1"&gt;

            &lt;div qc-content qc-pKey="pid" qc-value="1" qc-key="id"&gt;
                &lt;span class="button fa fa-angle-down" qc-type="collapse"&gt;&lt;/span&gt;
                &lt;span class="button fa fa-angle-right" qc-type="expand"&gt;&lt;/span&gt;
                &lt;span&gt;goods: &lt;/span&gt;
                &lt;span qc-field="name" class="black"&gt;&lt;/span&gt;
                &nbsp;&nbsp;
                &lt;span&gt;brand: &lt;/span&gt;
                &lt;span qc-field="brand" class="black"&gt;&lt;/span&gt;
            &lt;/div&gt;

        &lt;/div&gt;

        With addNew button:
        &lt;div qc-control="treeview" class="qc-treeview" qc-mode="auto" qc-get="get1"&gt;

            &lt;div qc-content qc-pKey="pid" qc-value="1" qc-key="id"&gt;
                &lt;span class="button fa fa-angle-down" qc-type="collapse"&gt;&lt;/span&gt;
                &lt;span class="button fa fa-angle-right" qc-type="expand"&gt;&lt;/span&gt;
                &lt;span qc-field="name" class="black"&gt;&lt;/span&gt;
                &lt;span class="button fa fa-plus-circle" qc-type="addNew" qc-for="popfrm"&gt;
                    <!-- add new event -->
                &lt;/span&gt;
            &lt;/div&gt;

        &lt;/div&gt;

        // javascript
            var datas = [
                {"id": "2", "name": "mobile", "brand": "all", "pid": "1"},
                {"id": "21", "name": "Galaxy S21", "brand": "Samsung", "pid": "2"},
                {"id": "22", "name": "iPhone 13", "brand": "Apple", "pid": "2"},
                {"id": "3", "name": "pc", "brand": "all", "pid": "1"},
                {"id": "31", "name": "Surface Pro", "brand": "Microsoft", "pid": "3"},
                {"id": "32", "name": "MacBook", "brand": "Apple", "pid": "3"},
            ];

            function get1(re, callee) {
                var data = [],
                    contrl = re.contrl,
                    pKey = contrl[0].pKey,
                    pVal = re.args[pKey];

                for (var i = 0; i &lt; datas.length; i++) {
                    var b = datas[i];
                    if (b[pKey] == pVal) {
                        data.push(b);
                    }
                }
                var d = {rows: data.length, data: data};
                callee(d, re);
            }

    </pre>

    <p></p>
    <h4 class="imp">Result</h4>
    <div class="result">

        No addNew button:
        <div qc-control="treeview" class="qc-treeview" qc-mode="auto" qc-get="get1">

            <div qc-content qc-pKey="pid" qc-value="1" qc-key="id">
                <span class="button fa fa-angle-down" qc-type="collapse"></span>
                <span class="button fa fa-angle-right" qc-type="expand"></span>
                <span>goods: </span>
                <span qc-field="name" class="black"></span>
                &nbsp;&nbsp;
                <span>brand: </span>
                <span qc-field="brand" class="black"></span>
            </div>

        </div>

        With addNew button:
        <div qc-control="treeview" class="qc-treeview" qc-mode="auto" qc-get="get1">

            <div qc-content qc-pKey="pid" qc-value="1" qc-key="id">
                <span class="button fa fa-angle-down" qc-type="collapse"></span>
                <span class="button fa fa-angle-right" qc-type="expand"></span>
                <span qc-field="name" class="black"></span>
                <span class="button fa fa-plus-circle" qc-type="addNew" qc-for="popfrm">
                    <!-- add new event -->
                </span>
            </div>

        </div>

        <script>
            var datas = [
                {"id": "2", "name": "mobile", "brand": "all", "pid": "1"},
                {"id": "21", "name": "Galaxy S21", "brand": "Samsung", "pid": "2"},
                {"id": "22", "name": "iPhone 13", "brand": "Apple", "pid": "2"},
                {"id": "3", "name": "pc", "brand": "all", "pid": "1"},
                {"id": "31", "name": "Surface Pro", "brand": "Microsoft", "pid": "3"},
                {"id": "32", "name": "MacBook", "brand": "Apple", "pid": "3"},
            ];

            function get1(re, callee) {
                var data = [],
                    contrl = re.contrl,
                    pKey = contrl[0].pKey,
                    pVal = re.args[pKey];

                for (var i = 0; i < datas.length; i++) {
                    var b = datas[i];
                    if (b[pKey] == pVal) {
                        data.push(b);
                    }
                }
                var d = {rows: data.length, data: data};
                callee(d, re);
            }
        </script>

    </div>


</div>

</body>
</html>